<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Dragonfly | OpenSource</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https:/docsopensource.github.io//docs/CNCF Projects/5.1_DragonFly"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Dragonfly | OpenSource"><meta data-react-helmet="true" name="description" content="What is Dragonfly"><meta data-react-helmet="true" property="og:description" content="What is Dragonfly"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https:/docsopensource.github.io//docs/CNCF Projects/5.1_DragonFly"><link data-react-helmet="true" rel="alternate" href="https:/docsopensource.github.io//docs/CNCF Projects/5.1_DragonFly" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https:/docsopensource.github.io//docs/CNCF Projects/5.1_DragonFly" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.5f5193cc.css">
<link rel="preload" href="/assets/js/runtime~main.1ae2ba8e.js" as="script">
<link rel="preload" href="/assets/js/main.c2631600.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/open_source.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/open_source.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">OpenSource</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/Background/background">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">üåú</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">üåû</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div><div class="dsla-search-wrapper"><div class="dsla-search-field"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Background</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started With OpenSource</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Share things with community</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">OpenSource Programs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">CNCF Projects</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/CNCF Projects/5.1_DragonFly">Dragonfly</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CNCF Projects/5.2_Kubernetes">Kubernetes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/CNCF Projects/5.3_NATS">NATS</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Dragonfly</h1></header><p align="center"><img src="https://repository-images.githubusercontent.com/309874357/c2b3ff80-a931-11eb-89b2-32c6ceed11cd"></p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="what-is-dragonfly">What is Dragonfly<a aria-hidden="true" class="hash-link" href="#what-is-dragonfly" title="Direct link to heading">‚Äã</a></h2><p>Dragonfly is an intelligent P2P-based image and file distribution tool. It aims to improve the efficiency and success rate of file transferring, and maximize the usage of network bandwidth, especially for the distribution of larget amounts of data, such as application distribution, cache distribution, log distribution, and image distribution.
At Alibaba, every month Dragonfly is invoked two billion times and distributes 3.4PB of data. Dragonfly has become one of the most important pieces of infrastructure at Alibaba.
While container technologies makes DevOps life easier most of the time, it surely brings some challenges: for example the efficiency of image distribution, especially when you     have to replicate image distribution on several hosts.
The goal of Dragonfly is to tackle distribution problems in cloud native scenarios.
The project is comprised of three main components:</p><ul><li>supernode plays the role of central scheduler and controls all distribution procedure among the peer network </li><li>dfget resides on each peer as an agent to download file pieces </li><li>and ‚Äúdfdaemon‚Äù plays the role of proxy which intercepts image downloading requests from container engine to dfget </li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="main-features">Main Features<a aria-hidden="true" class="hash-link" href="#main-features" title="Direct link to heading">‚Äã</a></h2><p>This project is an open-source version of the Dragonfly used at Alibaba. You can find it <a href="/docs/CNCF Projects/&quot;https://github.com/dragonflyoss/Dragonfly&quot;">here</a></p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="main-dragonfly-features">Main Dragonfly Features:<a aria-hidden="true" class="hash-link" href="#main-dragonfly-features" title="Direct link to heading">‚Äã</a></h3><ul><li><p><strong>P2P-based file distribution</strong>: By using the P2P technology for file transmission, it makes the most out of the bandwidth resources of each peer to improve    downloading efficiency, and saves a lot of cross-IDC bandwidth, especially the costly cross-board bandwidth.</p></li><li><p><strong>Non-invasive support to all kinds of container technologies</strong>: Dragonfly can seamlessly support various containers for distributing images.</p></li><li><p><strong>Host level speed limit</strong>: In addition to rate limit for the current download task like many other downloading tools (for example wget and curl), Dragonfly also provides rate limit for the entire host.</p></li><li><p><strong>Passive CDN</strong>: The CDN mechanism can avoid repetitive remote downloads.</p></li><li><p><strong>Strong consistency</strong>: Dragonfly can make sure that all downloaded files are consistent even if users do not provide any check code (MD5).</p></li><li><p><strong>Disk protection and highly efficient IO</strong>: Prechecking disk space, delaying synchronization, writing file blocks in the best order, isolating net-read/disk-write, and so on.</p></li><li><p><strong>High performance</strong>: SuperNode is completely closed-loop, which means that it doesn&#x27;t rely on any database or distributed cache, processing requests with extremely high performance.</p></li><li><p><strong>Auto-isolation of Exception</strong>: Dragonfly will automatically isolate exception nodes (peer or SuperNode) to improve download stability.</p></li><li><p><strong>No pressure on file source</strong>: Generally, only a few SuperNodes will download files from the source.</p></li><li><p><strong>Support standard HTTP header</strong>: Support submitting authentication information through HTTP header.</p></li><li><p><strong>Effective concurrency control of Registry Auth</strong>: Reduce the pressure on the Registry Auth Service.</p></li><li><p><strong>Simple and easy to use</strong>: Very few configurations are needed.</p><header><h1>Notable Milestones</h1></header></li></ul><ul><li><p>7 project maintainers from 4 organizations</p></li><li><p>67 contributors</p></li><li><p>21 contributing organizations</p></li><li><p>4.6k + GitHub stars</p></li><li><p>100k + downloads in Docker Hub</p></li><li><p>120% increase in commits last year</p><header><h1>How does it Work</h1></header><p> Dragonfly works slightly differently when downloading general files and downloading container images.</p>** Downloading General Files **<p> The SuperNode plays the role of CDN and schedules the transfer of blocks between each peer. dfget is the P2P client, which is also called a &quot;peer&quot;. It&#x27;s mainly used to download and share block </p><p align="center"><img src="https://d7y.io/docs/en-us/img/dfget.png"></p><p> <strong> Downloading Container Images </strong></p><p> Registry is similar to the file server above. dfget proxy is also called dfdaemon, which intercepts HTTP requests from docker pull or docker push, and then decides which requests to process with dfget. </p><p align="center"><img src="https://d7y.io/docs/en-us/img/dfget-combine-container.png"></p><p> <strong> Downloading Blocks </strong></p><p> Every file is divided into multiple blocks, which are transferred between peers. Each peer is a P2P client. The SuperNode will check if the corresponding file exists in the local disk. If not, the file will be downloaded into SuperNode from the file server. </p><p align="center"><img src="https://d7y.io/docs/en-us/img/distributing.png"></p></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/OpenSource Programs/4.25_Redox_OS_Summer_of_Code"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ <!-- -->Redox OS Summer of Code</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/CNCF Projects/5.2_Kubernetes"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kubernetes<!-- --> ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-is-dragonfly" class="table-of-contents__link toc-highlight">What is Dragonfly</a></li><li><a href="#main-features" class="table-of-contents__link toc-highlight">Main Features</a><ul><li><a href="#main-dragonfly-features" class="table-of-contents__link toc-highlight">Main Dragonfly Features:</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">OpenSource</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/docsopensource/docsopensource.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/girlscript/winter-of-contributing/graphs/contributors" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contributors<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">GWOC Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/girlscript/winter-of-contributing" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/girlscriptwoc?t=wQYmJKKM0e6hJI5UllXe4w&amp;s=09" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/girlscript-winter-of-contributing/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Aryamanz29" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Domain Supervisor<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/girlscript/winter-of-contributing" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Winter Of Contributing Repository<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 Made With ‚ù§ By <a href="https://github.com/Aryamanz29"><strong>AryamanZ29</strong> </a> </div></div></div></footer></div>
<script src="/assets/js/runtime~main.1ae2ba8e.js"></script>
<script src="/assets/js/main.c2631600.js"></script>
</body>
</html>